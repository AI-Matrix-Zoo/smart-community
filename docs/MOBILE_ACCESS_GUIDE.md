# 手机访问本地开发服务指南

## 前提条件

1. 手机和电脑必须连接到同一个WiFi网络
2. 电脑的防火墙允许相关端口访问
3. 服务已正常启动

## 访问地址

### 当前配置的局域网IP地址
- **电脑IP**: `192.168.1.7`
- **前端地址**: `http://192.168.1.7:5173`
- **后端地址**: `http://192.168.1.7:3000`

### 手机访问步骤

1. **确保服务正在运行**
   ```bash
   ./manage.sh quick-start
   ```

2. **在手机浏览器中访问**
   - 打开手机浏览器（Safari、Chrome等）
   - 输入地址：`http://192.168.1.7:5173`
   - 等待页面加载

3. **测试功能**
   - 注册新用户或使用测试账号登录
   - 测试建议提交、二手市场等功能

## 测试账号

- **超级管理员**: `admin` / `admin`
- **普通用户**: `13800138000` / `password123`

## 故障排除

### 无法访问的可能原因

1. **代理设置问题** ⭐ **最常见**
   - 手机WiFi设置中的代理设置为"无"或"关闭"
   - 电脑如果设置了代理，可能影响局域网访问
   - 检查手机：设置 → WiFi → 点击已连接的网络 → 代理设置为"无"

2. **网络问题**
   - 确保手机和电脑在同一WiFi网络
   - 检查网络连接是否正常

3. **防火墙阻止**
   - macOS: 系统偏好设置 → 安全性与隐私 → 防火墙
   - 允许Node.js和相关应用通过防火墙

4. **IP地址变化**
   - 如果电脑重新连接WiFi，IP可能会变化
   - 重新获取IP地址：`ifconfig | grep "inet " | grep -v 127.0.0.1`

5. **端口被占用**
   - 检查端口状态：`./manage.sh status`
   - 重启服务：`./manage.sh stop && ./manage.sh quick-start`

### 获取当前IP地址

```bash
# 获取局域网IP地址
ifconfig | grep "inet " | grep -v 127.0.0.1

# 或者使用
ipconfig getifaddr en0
```

### 检查服务状态

```bash
# 检查服务是否运行
./manage.sh status

# 查看服务健康状态
curl http://192.168.1.7:3000/api/health
```

## 注意事项

1. **性能**: 手机访问可能比电脑稍慢，这是正常现象
2. **响应式设计**: 界面已适配移动设备
3. **功能完整性**: 所有功能在手机上都可正常使用
4. **安全性**: 这只是开发环境，生产环境需要HTTPS

## 高级配置

### 自定义IP地址

如果您的IP地址不是 `192.168.1.7`，需要：

1. **更新后端CORS配置** (`backend/src/index.ts`)
   ```typescript
   app.use(cors({
     origin: [
       'http://localhost:5173',
       'http://YOUR_IP:5173',  // 替换为您的IP
       /^http:\/\/192\.168\.1\.\d+:5173$/
     ],
     credentials: true
   }));
   ```

2. **重启服务**
   ```bash
   ./manage.sh stop
   ./manage.sh quick-start
   ```

### 端口转发（可选）

如果需要从外网访问，可以配置路由器端口转发：
- 转发端口 5173 (前端)
- 转发端口 3000 (后端)

**注意**: 外网访问存在安全风险，仅建议在开发测试时使用。 