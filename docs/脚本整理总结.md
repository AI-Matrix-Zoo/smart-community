# æ™ºæ…§momaç”Ÿæ´»å¹³å° - è„šæœ¬æ•´ç†æ€»ç»“

## ğŸ“… æ•´ç†æ—¥æœŸ
2024-06-02

## ğŸ¯ æ•´ç†ç›®æ ‡
æ ¹æ®ç”¨æˆ·è¦æ±‚ï¼Œå°†ä¸å†ä½¿ç”¨çš„æ—§è„šæœ¬ç§»åŠ¨åˆ° `scripts` æ–‡ä»¶å¤¹ä¸­ï¼Œåªåœ¨é¡¹ç›®æ ¹ç›®å½•ä¿ç•™ç»Ÿä¸€çš„ç®¡ç†è„šæœ¬ï¼Œç®€åŒ–é¡¹ç›®ç»“æ„ã€‚

## ğŸ“ æ•´ç†å‰åå¯¹æ¯”

### æ•´ç†å‰çš„é¡¹ç›®æ ¹ç›®å½•
```
æ™ºæ…§å°åŒºç”Ÿæ´»å¹³å°/
â”œâ”€â”€ dev-manager.sh           # æ—§çš„å¼€å‘ç¯å¢ƒç®¡ç†è„šæœ¬
â”œâ”€â”€ manage.sh                # æ—§çš„ç”Ÿäº§ç¯å¢ƒç®¡ç†è„šæœ¬
â”œâ”€â”€ unified-manager.sh       # ç»Ÿä¸€ç®¡ç†è„šæœ¬
â”œâ”€â”€ unified-manager.sh.backup # å¤‡ä»½æ–‡ä»¶
â”œâ”€â”€ quick-start.sh           # å¿«é€Ÿå¯åŠ¨è„šæœ¬
â”œâ”€â”€ optimize-ts.sh           # TypeScriptä¼˜åŒ–è„šæœ¬
â”œâ”€â”€ test-phone-registration.js # æµ‹è¯•è„šæœ¬
â”œâ”€â”€ final_review_gate.py     # å®¡æŸ¥è„šæœ¬
â”œâ”€â”€ frontend/
â”œâ”€â”€ backend/
â””â”€â”€ ...
```

### æ•´ç†åçš„é¡¹ç›®æ ¹ç›®å½•
```
æ™ºæ…§å°åŒºç”Ÿæ´»å¹³å°/
â”œâ”€â”€ unified-manager.sh       # ç»Ÿä¸€ç®¡ç†è„šæœ¬ (ä¸»è¦)
â”œâ”€â”€ quick-start.sh           # å¿«é€Ÿå¯åŠ¨è„šæœ¬ (æ¨èæ–°æ‰‹ä½¿ç”¨)
â”œâ”€â”€ scripts/                 # è¾…åŠ©è„šæœ¬æ–‡ä»¶å¤¹
â”œâ”€â”€ docs/                    # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ frontend/
â”œâ”€â”€ backend/
â””â”€â”€ ...
```

## ğŸ—‚ï¸ æ–‡ä»¶ç§»åŠ¨è¯¦æƒ…

### ç§»åŠ¨åˆ° scripts/ æ–‡ä»¶å¤¹çš„æ–‡ä»¶

| åŸæ–‡ä»¶å | æ–°ä½ç½® | è¯´æ˜ |
|---------|--------|------|
| `dev-manager.sh` | `scripts/dev-manager.sh.deprecated` | å·²åºŸå¼ƒçš„å¼€å‘ç¯å¢ƒç®¡ç†è„šæœ¬ |
| `manage.sh` | `scripts/manage.sh.deprecated` | å·²åºŸå¼ƒçš„ç”Ÿäº§ç¯å¢ƒç®¡ç†è„šæœ¬ |
| `unified-manager.sh.backup` | `scripts/unified-manager.sh.backup` | ç»Ÿä¸€ç®¡ç†è„šæœ¬çš„å¤‡ä»½ç‰ˆæœ¬ |
| `optimize-ts.sh` | `scripts/optimize-ts.sh` | TypeScriptä¼˜åŒ–è„šæœ¬ |
| `test-phone-registration.js` | `scripts/test-phone-registration.js` | æ‰‹æœºæ³¨å†ŒåŠŸèƒ½æµ‹è¯•è„šæœ¬ |
| `final_review_gate.py` | `scripts/final_review_gate.py` | äº¤äº’å¼å®¡æŸ¥è„šæœ¬ |

### ä¿ç•™åœ¨æ ¹ç›®å½•çš„æ–‡ä»¶

| æ–‡ä»¶å | ç”¨é€” | æ¨èä½¿ç”¨åœºæ™¯ |
|--------|------|-------------|
| `unified-manager.sh` | ç»Ÿä¸€ç®¡ç†è„šæœ¬ | æ‰€æœ‰å¼€å‘å’Œéƒ¨ç½²æ“ä½œ |
| `quick-start.sh` | å¿«é€Ÿå¯åŠ¨è„šæœ¬ | æ–°æ‰‹ä¸€é”®å¯åŠ¨ |

## ğŸ“‹ scripts/ æ–‡ä»¶å¤¹ç»“æ„

æ•´ç†åçš„ `scripts/` æ–‡ä»¶å¤¹åŒ…å«ï¼š

```
scripts/
â”œâ”€â”€ README.md                        # è„šæœ¬è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ dev-manager.sh.deprecated        # å·²åºŸå¼ƒï¼šæ—§å¼€å‘ç®¡ç†è„šæœ¬
â”œâ”€â”€ manage.sh.deprecated             # å·²åºŸå¼ƒï¼šæ—§ç”Ÿäº§ç®¡ç†è„šæœ¬
â”œâ”€â”€ unified-manager.sh.backup        # å¤‡ä»½ï¼šç»Ÿä¸€ç®¡ç†è„šæœ¬å¤‡ä»½
â”œâ”€â”€ optimize-ts.sh                   # å·¥å…·ï¼šTypeScriptä¼˜åŒ–
â”œâ”€â”€ test-phone-registration.js       # æµ‹è¯•ï¼šæ‰‹æœºæ³¨å†ŒåŠŸèƒ½
â”œâ”€â”€ final_review_gate.py            # å·¥å…·ï¼šäº¤äº’å¼å®¡æŸ¥
â”œâ”€â”€ test-services.sh                # æµ‹è¯•ï¼šæœåŠ¡æµ‹è¯•
â”œâ”€â”€ test-routes.sh                  # æµ‹è¯•ï¼šè·¯ç”±æµ‹è¯•
â”œâ”€â”€ test-spa-routes.sh              # æµ‹è¯•ï¼šSPAè·¯ç”±æµ‹è¯•
â”œâ”€â”€ update-frontend-deployment.sh   # éƒ¨ç½²ï¼šå‰ç«¯æ›´æ–°
â”œâ”€â”€ force-redeploy-backend.sh       # éƒ¨ç½²ï¼šåç«¯é‡éƒ¨ç½²
â””â”€â”€ reset-production-db.sh          # å·¥å…·ï¼šæ•°æ®åº“é‡ç½®
```

## ğŸ”„ è¿ç§»æŒ‡å—

### å¯¹äºä½¿ç”¨æ—§è„šæœ¬çš„ç”¨æˆ·

#### ä» dev-manager.sh è¿ç§»
```bash
# æ—§å‘½ä»¤
./dev-manager.sh start
./dev-manager.sh stop
./dev-manager.sh status

# æ–°å‘½ä»¤
./unified-manager.sh dev-start
./unified-manager.sh dev-stop
./unified-manager.sh status
```

#### ä» manage.sh è¿ç§»
```bash
# æ—§å‘½ä»¤
./manage.sh dev
./manage.sh build
./manage.sh deploy

# æ–°å‘½ä»¤
./unified-manager.sh dev
./unified-manager.sh build
./unified-manager.sh deploy
```

### æ¨èçš„æ–°å·¥ä½œæµç¨‹

#### æ–°æ‰‹ç”¨æˆ·
```bash
# ä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰
./quick-start.sh
```

#### å¼€å‘è€…
```bash
# å®Œæ•´æ§åˆ¶
./unified-manager.sh dev-start    # åå°å¯åŠ¨
./unified-manager.sh status       # æŸ¥çœ‹çŠ¶æ€
./unified-manager.sh dev-stop     # åœæ­¢æœåŠ¡
```

#### é«˜çº§ç”¨æˆ·
```bash
# äº¤äº’å¼å¯åŠ¨
./unified-manager.sh dev

# ç”Ÿäº§éƒ¨ç½²
./unified-manager.sh deploy
```

## ğŸ“š æ–‡æ¡£æ›´æ–°

### æ–°å¢æ–‡æ¡£
- `scripts/README.md` - scriptsæ–‡ä»¶å¤¹è¯´æ˜
- `docs/è„šæœ¬æ•´ç†æ€»ç»“.md` - æœ¬æ–‡æ¡£

### æ›´æ–°æ–‡æ¡£
- `README.md` - æ›´æ–°é¡¹ç›®ç»“æ„å’Œä½¿ç”¨è¯´æ˜
- `docs/æœ¬åœ°å¼€å‘æµ‹è¯•æŒ‡å—.md` - æ·»åŠ è„šæœ¬æ•´ç†è¯´æ˜
- `docs/ä¿®å¤æ€»ç»“.md` - è®°å½•ä¿®å¤è¿‡ç¨‹

## âœ… æ•´ç†æ•ˆæœ

### é¡¹ç›®ç»“æ„ä¼˜åŒ–
- âœ… **æ ¹ç›®å½•ç®€åŒ–**ï¼šåªä¿ç•™2ä¸ªä¸»è¦è„šæœ¬
- âœ… **åˆ†ç±»æ¸…æ™°**ï¼šè¾…åŠ©è„šæœ¬ç»Ÿä¸€æ”¾åœ¨scriptsæ–‡ä»¶å¤¹
- âœ… **å‘åå…¼å®¹**ï¼šæ—§è„šæœ¬ä¿ç•™ä½†æ ‡è®°ä¸ºåºŸå¼ƒ
- âœ… **æ–‡æ¡£å®Œå–„**ï¼šæä¾›è¯¦ç»†çš„è¿ç§»æŒ‡å—

### ç”¨æˆ·ä½“éªŒæ”¹å–„
- âœ… **é™ä½å¤æ‚åº¦**ï¼šæ–°æ‰‹åªéœ€å…³æ³¨2ä¸ªè„šæœ¬
- âœ… **ä¿æŒåŠŸèƒ½**ï¼šæ‰€æœ‰åŠŸèƒ½é€šè¿‡ç»Ÿä¸€è„šæœ¬æä¾›
- âœ… **æ¸…æ™°æŒ‡å¼•**ï¼šæ˜ç¡®çš„ä½¿ç”¨å»ºè®®å’Œè¿ç§»è·¯å¾„
- âœ… **æ˜“äºç»´æŠ¤**ï¼šé›†ä¸­ç®¡ç†å‡å°‘ç»´æŠ¤æˆæœ¬

## ğŸ”® åç»­å»ºè®®

1. **é€æ­¥ç§»é™¤**ï¼šåœ¨å‡ ä¸ªç‰ˆæœ¬åå¯ä»¥è€ƒè™‘å®Œå…¨åˆ é™¤ `.deprecated` æ–‡ä»¶
2. **åŠŸèƒ½å¢å¼º**ï¼šç»§ç»­å®Œå–„ `unified-manager.sh` çš„åŠŸèƒ½
3. **æ–‡æ¡£ç»´æŠ¤**ï¼šä¿æŒæ–‡æ¡£ä¸è„šæœ¬åŠŸèƒ½åŒæ­¥
4. **ç”¨æˆ·åé¦ˆ**ï¼šæ”¶é›†ç”¨æˆ·å¯¹æ–°ç»“æ„çš„åé¦ˆå¹¶æŒç»­ä¼˜åŒ–

## ğŸ“ æ€»ç»“

é€šè¿‡è¿™æ¬¡è„šæœ¬æ•´ç†ï¼š
- é¡¹ç›®æ ¹ç›®å½•æ›´åŠ ç®€æ´ï¼Œåªä¿ç•™æ ¸å¿ƒè„šæœ¬
- è¾…åŠ©è„šæœ¬æœ‰åºç»„ç»‡åœ¨ `scripts/` æ–‡ä»¶å¤¹ä¸­
- æä¾›äº†å®Œæ•´çš„è¿ç§»æŒ‡å—å’Œæ–‡æ¡£
- ä¿æŒäº†å‘åå…¼å®¹æ€§ï¼Œç”¨æˆ·å¯ä»¥å¹³æ»‘è¿‡æ¸¡

æ•´ç†å®Œæˆï¼é¡¹ç›®ç°åœ¨æœ‰äº†æ›´æ¸…æ™°çš„ç»“æ„å’Œæ›´å¥½çš„å¯ç»´æŠ¤æ€§ã€‚ 