<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>认证标识测试</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-2xl mx-auto">
        <h1 class="text-2xl font-bold mb-6">认证标识测试页面</h1>
        
        <!-- 测试1: 直接HTML显示 -->
        <div class="bg-white p-4 rounded-lg shadow mb-4">
            <h2 class="text-lg font-semibold mb-2">直接HTML测试</h2>
            <p class="text-sm text-slate-500">
                由 张三 (1栋-1单元-101)
                <span class="inline-flex items-center ml-1 px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs font-medium rounded" title="已认证用户">
                    ✓
                </span>
                于 2025/6/3 提交
            </p>
        </div>
        
        <!-- 测试2: 内联样式 -->
        <div class="bg-white p-4 rounded-lg shadow mb-4">
            <h2 class="text-lg font-semibold mb-2">内联样式测试</h2>
            <p class="text-sm text-slate-500">
                由 张三 (1栋-1单元-101)
                <span style="display: inline-flex; align-items: center; margin-left: 4px; padding: 2px 6px; background-color: #dbeafe; color: #1d4ed8; font-size: 12px; font-weight: 500; border-radius: 4px;" title="已认证用户">
                    ✓
                </span>
                于 2025/6/3 提交
            </p>
        </div>
        
        <!-- 测试3: JavaScript动态加载 -->
        <div class="bg-white p-4 rounded-lg shadow mb-4">
            <h2 class="text-lg font-semibold mb-2">JavaScript动态测试</h2>
            <div id="dynamic-content">加载中...</div>
        </div>
        
        <!-- 测试4: API数据测试 -->
        <div class="bg-white p-4 rounded-lg shadow mb-4">
            <h2 class="text-lg font-semibold mb-2">API数据测试</h2>
            <div id="api-content">加载中...</div>
        </div>
    </div>

    <script>
        // 测试3: JavaScript动态创建
        document.getElementById('dynamic-content').innerHTML = `
            <p class="text-sm text-slate-500">
                由 张三 (1栋-1单元-101)
                <span class="inline-flex items-center ml-1 px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs font-medium rounded" title="已认证用户">
                    ✓
                </span>
                于 2025/6/3 提交 (JavaScript创建)
            </p>
        `;
        
        // 测试4: 从API获取数据
        fetch('http://localhost:3000/api/suggestions')
            .then(response => response.json())
            .then(data => {
                if (data.success && data.data.length > 0) {
                    const suggestion = data.data[0];
                    const verifiedBadge = suggestion.submittedByUserVerified ? 
                        `<span class="inline-flex items-center ml-1 px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs font-medium rounded" title="已认证用户">✓</span>` : '';
                    
                    document.getElementById('api-content').innerHTML = `
                        <p class="text-sm text-slate-500">
                            由 ${suggestion.submittedBy}
                            ${verifiedBadge}
                            于 ${new Date(suggestion.submittedDate).toLocaleDateString()} 提交
                        </p>
                        <p class="text-xs text-red-500 mt-1">
                            [API数据] verified: ${suggestion.submittedByUserVerified}
                        </p>
                    `;
                } else {
                    document.getElementById('api-content').innerHTML = '<p class="text-red-500">API数据加载失败</p>';
                }
            })
            .catch(error => {
                console.error('API错误:', error);
                document.getElementById('api-content').innerHTML = '<p class="text-red-500">API请求失败: ' + error.message + '</p>';
            });
    </script>
</body>
</html> 